{
	"info": {
		"_postman_id": "sistema-universitario-2024",
		"name": "Sistema Universitario API",
		"description": "API completa para gesti√≥n universitaria con base de datos.\n\nIMPORTANTE:\n- No elimines entidades base (Carrera, Ciclo, Especialidad, Docente, Estudiante) si existen dependencias.\n- Los requests de eliminaci√≥n de estas entidades est√°n deshabilitados para evitar errores de integridad referencial.\n- Ejecuta los requests en el orden: Carrera ‚Üí Ciclo ‚Üí Especialidad ‚Üí Docente ‚Üí Estudiante ‚Üí Materia ‚Üí Asignaci√≥n ‚Üí Matr√≠cula.\n- Si eliminas una entidad base, actualiza los IDs en el entorno antes de crear dependientes.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üè´ Carreras",
			"item": [
				{
					"name": "Crear Carrera",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/carrera',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var nombre = 'Ingenier√≠a en Sistemas';",
									"        var existentes = res.json().filter(function(c) { return c.nombre === nombre });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('carreraId', existentes[0].id_carrera);",
									"            postman.setNextRequest('Obtener Todas las Carreras');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_carrera;",
									"    if (id) {",
									"        pm.environment.set('carreraId', id);",
									"        postman.setNextRequest('Obtener Todas las Carreras');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_carrera v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear carrera.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Ingenier√≠a en Sistemas\",\n  \"descripcion\": \"Carrera enfocada en desarrollo de software y tecnolog√≠a\",\n  \"duracion_semestres\": 10\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/carrera",
							"host": ["{{baseUrl}}"],
							"path": ["carrera"]
						}
					}
				},
				{
					"name": "Obtener Todas las Carreras",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Carrera por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/carrera",
							"host": ["{{baseUrl}}"],
							"path": ["carrera"]
						}
					}
				},
				{
					"name": "Obtener Carrera por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Carrera');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/carrera/{{carreraId}}",
							"host": ["{{baseUrl}}"],
							"path": ["carrera", "{{carreraId}}"]
						}
					}
				},
				{
					"name": "Actualizar Carrera",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Ciclo');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Ingenier√≠a en Sistemas Actualizada\",\n  \"descripcion\": \"Descripci√≥n actualizada de la carrera\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/carrera/{{carreraId}}",
							"host": ["{{baseUrl}}"],
							"path": ["carrera", "{{carreraId}}"]
						}
					}
				},
				{
					"name": "Eliminar Carrera (DESHABILITADO)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/carrera/{{carreraId}}",
							"host": ["{{baseUrl}}"],
							"path": ["carrera", "{{carreraId}}"]
						}
					},
					"description": "‚ö†Ô∏è No ejecutar. Deshabilitado para evitar errores de integridad referencial."
				}
			]
		},
		{
			"name": "üìö Ciclos",
			"item": [
				{
					"name": "Crear Ciclo",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/ciclo',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var nombre = 'Ciclo I-2024';",
									"        var existentes = res.json().filter(function(c) { return c.nombre === nombre });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('cicloId', existentes[0].id_ciclo);",
									"            postman.setNextRequest('Obtener Todos los Ciclos');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_ciclo;",
									"    if (id) {",
									"        pm.environment.set('cicloId', id);",
									"        postman.setNextRequest('Obtener Todos los Ciclos');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_ciclo v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear ciclo.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Ciclo I-2024\",\n  \"fecha_inicio\": \"2024-02-01T00:00:00.000Z\",\n  \"fecha_fin\": \"2024-06-30T23:59:59.000Z\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/ciclo",
							"host": ["{{baseUrl}}"],
							"path": ["ciclo"]
						}
					}
				},
				{
					"name": "Obtener Todos los Ciclos",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Ciclo por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/ciclo",
							"host": ["{{baseUrl}}"],
							"path": ["ciclo"]
						}
					}
				},
				{
					"name": "Obtener Ciclo por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Ciclo');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/ciclo/{{cicloId}}",
							"host": ["{{baseUrl}}"],
							"path": ["ciclo", "{{cicloId}}"]
						}
					}
				},
				{
					"name": "Actualizar Ciclo",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Especialidad');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Ciclo I-2024 Actualizado\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/ciclo/{{cicloId}}",
							"host": ["{{baseUrl}}"],
							"path": ["ciclo", "{{cicloId}}"]
						}
					}
				},
				{
					"name": "Eliminar Ciclo (DESHABILITADO)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/ciclo/{{cicloId}}",
							"host": ["{{baseUrl}}"],
							"path": ["ciclo", "{{cicloId}}"]
						}
					},
					"description": "‚ö†Ô∏è No ejecutar. Deshabilitado para evitar errores de integridad referencial."
				}
			]
		},
		{
			"name": "üéØ Especialidades",
			"item": [
				{
					"name": "Crear Especialidad",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/especialidad',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var nombre = 'Desarrollo de Software';",
									"        var existentes = res.json().filter(function(e) { return e.nombre === nombre && e.id_carrera == pm.environment.get('carreraId') });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('especialidadId', existentes[0].id_especialidad);",
									"            postman.setNextRequest('Obtener Todas las Especialidades');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_especialidad;",
									"    if (id) {",
									"        pm.environment.set('especialidadId', id);",
									"        postman.setNextRequest('Obtener Todas las Especialidades');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_especialidad v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear especialidad.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Desarrollo de Software\",\n  \"id_carrera\": {{carreraId}}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/especialidad",
							"host": ["{{baseUrl}}"],
							"path": ["especialidad"]
						}
					}
				},
				{
					"name": "Obtener Todas las Especialidades",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Especialidad por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/especialidad",
							"host": ["{{baseUrl}}"],
							"path": ["especialidad"]
						}
					}
				},
				{
					"name": "Obtener Especialidad por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Especialidad');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/especialidad/{{especialidadId}}",
							"host": ["{{baseUrl}}"],
							"path": ["especialidad", "{{especialidadId}}"]
						}
					}
				},
				{
					"name": "Actualizar Especialidad",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Docente');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Desarrollo de Software Avanzado\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/especialidad/{{especialidadId}}",
							"host": ["{{baseUrl}}"],
							"path": ["especialidad", "{{especialidadId}}"]
						}
					}
				},
				{
					"name": "Eliminar Especialidad (DESHABILITADO)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/especialidad/{{especialidadId}}",
							"host": ["{{baseUrl}}"],
							"path": ["especialidad", "{{especialidadId}}"]
						}
					},
					"description": "‚ö†Ô∏è No ejecutar. Deshabilitado para evitar errores de integridad referencial."
				}
			]
		},
		{
			"name": "üë®‚Äçüè´ Docentes",
			"item": [
				{
					"name": "Crear Docente",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/docente',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var codigo = 'DOC001';",
									"        var existentes = res.json().filter(function(d) { return d.codigo_docente === codigo });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('docenteId', existentes[0].id_docente);",
									"            postman.setNextRequest('Obtener Todos los Docentes');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_docente;",
									"    if (id) {",
									"        pm.environment.set('docenteId', id);",
									"        postman.setNextRequest('Obtener Todos los Docentes');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_docente v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear docente.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"codigo_docente\": \"DOC001\",\n  \"nombres\": \"Juan Carlos\",\n  \"apellidos\": \"Garc√≠a L√≥pez\",\n  \"email\": \"juan.garcia@universidad.edu\",\n  \"telefono\": \"123456789\",\n  \"especialidad\": \"Ingenier√≠a de Software\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/docente",
							"host": ["{{baseUrl}}"],
							"path": ["docente"]
						}
					}
				},
				{
					"name": "Obtener Todos los Docentes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Docente por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/docente",
							"host": ["{{baseUrl}}"],
							"path": ["docente"]
						}
					}
				},
				{
					"name": "Obtener Docente por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Docente');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/docente/{{docenteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["docente", "{{docenteId}}"]
						}
					}
				},
				{
					"name": "Actualizar Docente",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Estudiante');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"telefono\": \"987654321\",\n  \"email\": \"juan.garcia.nuevo@universidad.edu\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/docente/{{docenteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["docente", "{{docenteId}}"]
						}
					}
				},
				{
					"name": "Eliminar Docente (DESHABILITADO)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/docente/{{docenteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["docente", "{{docenteId}}"]
						}
					},
					"description": "‚ö†Ô∏è No ejecutar. Deshabilitado para evitar errores de integridad referencial."
				}
			]
		},
		{
			"name": "üë®‚Äçüéì Estudiantes",
			"item": [
				{
					"name": "Crear Estudiante",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/estudiante',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var codigo = 'EST001';",
									"        var existentes = res.json().filter(function(e) { return e.codigo_estudiante === codigo });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('estudianteId', existentes[0].id_estudiante);",
									"            postman.setNextRequest('Obtener Todos los Estudiantes');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_estudiante;",
									"    if (id) {",
									"        pm.environment.set('estudianteId', id);",
									"        postman.setNextRequest('Obtener Todos los Estudiantes');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_estudiante v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear estudiante.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"codigo_estudiante\": \"EST001\",\n  \"nombres\": \"Mar√≠a Elena\",\n  \"apellidos\": \"Rodr√≠guez P√©rez\",\n  \"email\": \"maria.rodriguez@estudiante.edu\",\n  \"telefono\": \"987654321\",\n  \"fecha_ingreso\": \"2024-02-01T00:00:00.000Z\",\n  \"id_carrera\": {{carreraId}}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/estudiante",
							"host": ["{{baseUrl}}"],
							"path": ["estudiante"]
						}
					}
				},
				{
					"name": "Obtener Todos los Estudiantes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Estudiante por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/estudiante",
							"host": ["{{baseUrl}}"],
							"path": ["estudiante"]
						}
					}
				},
				{
					"name": "Obtener Estudiante por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Estudiante');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/estudiante/{{estudianteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["estudiante", "{{estudianteId}}"]
						}
					}
				},
				{
					"name": "Actualizar Estudiante",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Materia');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"telefono\": \"123123123\",\n  \"email\": \"maria.rodriguez.nuevo@estudiante.edu\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/estudiante/{{estudianteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["estudiante", "{{estudianteId}}"]
						}
					}
				},
				{
					"name": "Eliminar Estudiante (DESHABILITADO)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/estudiante/{{estudianteId}}",
							"host": ["{{baseUrl}}"],
							"path": ["estudiante", "{{estudianteId}}"]
						}
					},
					"description": "‚ö†Ô∏è No ejecutar. Deshabilitado para evitar errores de integridad referencial."
				}
			]
		},
		{
			"name": "üìñ Materias",
			"item": [
				{
					"name": "Crear Materia",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/materia',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var nombre = 'Programaci√≥n I';",
									"        var existentes = res.json().filter(function(m) { return m.nombre === nombre });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('materiaId', existentes[0].id_materia);",
									"            postman.setNextRequest('Obtener Todas las Materias');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_materia;",
									"    if (id) {",
									"        pm.environment.set('materiaId', id);",
									"        postman.setNextRequest('Obtener Todas las Materias');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_materia v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear materia.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Programaci√≥n I\",\n  \"codigo\": \"PROG101\",\n  \"creditos\": 4,\n  \"horas_semanales\": 6,\n  \"id_especialidad\": {{especialidadId}},\n  \"id_ciclo\": {{cicloId}}\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/materia",
							"host": ["{{baseUrl}}"],
							"path": ["materia"]
						}
					}
				},
				{
					"name": "Obtener Todas las Materias",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Materia por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/materia",
							"host": ["{{baseUrl}}"],
							"path": ["materia"]
						}
					}
				},
				{
					"name": "Obtener Materia por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Materia');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/materia/{{materiaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["materia", "{{materiaId}}"]
						}
					}
				},
				{
					"name": "Actualizar Materia",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Asignaci√≥n');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nombre\": \"Programaci√≥n I Avanzada\",\n  \"creditos\": 5\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/materia/{{materiaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["materia", "{{materiaId}}"]
						}
					}
				},
				{
					"name": "Eliminar Materia",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/materia/{{materiaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["materia", "{{materiaId}}"]
						}
					}
				}
			]
		},
		{
			"name": "üîó Asignaciones Docente-Materia",
			"item": [
				{
					"name": "Crear Asignaci√≥n",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/asignacion-docente-materia',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var existentes = res.json().filter(function(a) { return a.id_docente == pm.environment.get('docenteId') && a.id_materia == pm.environment.get('materiaId') });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('asignacionId', existentes[0].id_asignacion_docente_materia);",
									"            postman.setNextRequest('Obtener Todas las Asignaciones');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_asignacion_docente_materia;",
									"    if (id) {",
									"        pm.environment.set('asignacionId', id);",
									"        postman.setNextRequest('Obtener Todas las Asignaciones');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_asignacion_docente_materia v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear asignaci√≥n.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id_docente\": {{docenteId}},\n  \"id_materia\": {{materiaId}},\n  \"grupo\": \"A\",\n  \"horario\": \"Lunes 8:00-10:00, Mi√©rcoles 8:00-10:00\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/asignacion-docente-materia",
							"host": ["{{baseUrl}}"],
							"path": ["asignacion-docente-materia"]
						}
					}
				},
				{
					"name": "Obtener Todas las Asignaciones",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Asignaci√≥n por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/asignacion-docente-materia",
							"host": ["{{baseUrl}}"],
							"path": ["asignacion-docente-materia"]
						}
					}
				},
				{
					"name": "Obtener Asignaci√≥n por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Asignaci√≥n');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/asignacion-docente-materia/{{asignacionId}}",
							"host": ["{{baseUrl}}"],
							"path": ["asignacion-docente-materia", "{{asignacionId}}"]
						}
					}
				},
				{
					"name": "Actualizar Asignaci√≥n",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Crear Matr√≠cula');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"grupo\": \"B\",\n  \"horario\": \"Martes 10:00-12:00, Jueves 10:00-12:00\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/asignacion-docente-materia/{{asignacionId}}",
							"host": ["{{baseUrl}}"],
							"path": ["asignacion-docente-materia", "{{asignacionId}}"]
						}
					}
				},
				{
					"name": "Eliminar Asignaci√≥n",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/asignacion-docente-materia/{{asignacionId}}",
							"host": ["{{baseUrl}}"],
							"path": ["asignacion-docente-materia", "{{asignacionId}}"]
						}
					}
				}
			]
		},
		{
			"name": "üìù Matr√≠culas",
			"item": [
				{
					"name": "Crear Matr√≠cula",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.sendRequest({",
									"    url: pm.environment.get('baseUrl') + '/matricula',",
									"    method: 'GET'",
									"}, function (err, res) {",
									"    if (res && res.json) {",
									"        var existentes = res.json().filter(function(m) { return m.id_estudiante == pm.environment.get('estudianteId') && m.id_materia == pm.environment.get('materiaId') });",
									"        if (existentes.length > 0) {",
									"            pm.environment.set('matriculaId', existentes[0].id_matricula);",
									"            postman.setNextRequest('Obtener Todas las Matr√≠culas');",
									"        }",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201 || pm.response.code === 200) {",
									"    var id = pm.response.json().id_matricula;",
									"    if (id) {",
									"        pm.environment.set('matriculaId', id);",
									"        postman.setNextRequest('Obtener Todas las Matr√≠culas');",
									"    } else {",
									"        console.warn('Advertencia: No se obtuvo id_matricula v√°lido.');",
									"    }",
									"} else {",
									"    console.warn('Advertencia: Error al crear matr√≠cula.');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id_estudiante\": {{estudianteId}},\n  \"id_materia\": {{materiaId}},\n  \"calificacion\": 85\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/matricula",
							"host": ["{{baseUrl}}"],
							"path": ["matricula"]
						}
					}
				},
				{
					"name": "Obtener Todas las Matr√≠culas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Obtener Matr√≠cula por ID');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/matricula",
							"host": ["{{baseUrl}}"],
							"path": ["matricula"]
						}
					}
				},
				{
					"name": "Obtener Matr√≠cula por ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Actualizar Matr√≠cula');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/matricula/{{matriculaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["matricula", "{{matriculaId}}"]
						}
					}
				},
				{
					"name": "Actualizar Matr√≠cula",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": ["postman.setNextRequest('Eliminar Materia');"],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"calificacion\": 90\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/matricula/{{matriculaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["matricula", "{{matriculaId}}"]
						}
					}
				},
				{
					"name": "Eliminar Matr√≠cula",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/matricula/{{matriculaId}}",
							"host": ["{{baseUrl}}"],
							"path": ["matricula", "{{matriculaId}}"]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}